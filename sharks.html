<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>title</title>
  <meta name="author" content="name">
  <meta name="description" content="description here">
  <meta name="keywords" content="keywords,here">
 </head>
 <style>
span {
    display: none;
}
</style>
 <body style="background-color:midnightblue">
  
  <span index="nosupport">
  Hi Senpai~ <br />
  I'm going to hide until you update to a new browser.
  </span>
  
  <span index="1">
	<img src="https://cosplaycalamity.files.wordpress.com/2014/12/ckjhmq9.jpg"/>
	<span style="display:inline; position:absolute; top:30%; left:50%; color:white;" >
	Hello Senpai~ <br />
	So you want your file sorted?
	</span>
	<br />
	<input type="file" id="files" name="files[]" multiple style="
    position: absolute;
    top: 40%;
    left: 50%;
	color: white;"/>
	
  </span>
  
  <span index="2">
  <img src="https://cosplaycalamity.files.wordpress.com/2014/12/ckjhmq9.jpg"/>
  <span style="display:inline; position:absolute; top:30%; left:50%; color:white;" >
	  I'll do it for you... But don't think it's because I like you! <br />
	  I want you to do some things for me first ;)
  </span>
  </span>
  
  <span index="3">
  &lt; insert third, fourth, fifth picture &gt;
  <img src="https://cosplaycalamity.files.wordpress.com/2014/12/ckjhmq9.jpg"/>
  <span style="display:inline; position:absolute; top:30%; left:50%; color:white;" >
	  Who's the cutest kouhai here?
  </span>
    <a onclick="advance()"><img src="http://i.imgur.com/WTrtBqE.jpg" height="200" width="200"></a>
	<a onclick="toBadEnd()"><img src="http://i.imgur.com/5dGthfi.jpg" height="200" width="200"></a>
	<a href="https://www.youtube.com/watch?v=_JAa3NvP6f4"><img src="https://s-media-cache-ak0.pinimg.com/originals/02/62/b2/0262b25a39e1b5b7a392166b0c76ccd7.jpg" height="200" width="200"></a>
  </span>
  
  <span index="4">
  <img class="meat" height="75" src="http://www.nationalgrocers.org/images/default-source/default-album/shutterstock_118987798.jpg?sfvrsn=0" />
  <span class="feedme" style="display:inline; position:absolute; top:30%; right:40%; color:red; font-size:100px "> 
	FEED ME
  </span>
  <span class="countclock" style="display:inline; position:absolute; top:0%; left:0%; color:red; font-size:100px "> 
  30
  </span>
  </span>
  <span index="5">
   What's the third test?
  </span>
  
  <span index="badend">
  I'm not very happy with you. Hmph
  </span>
  
  <span index="goodend">
  Surprise! I've been working on it all the time!
  But I don't think I'm very good at it...
  <img src = "https://pbs.twimg.com/profile_images/580997733797863424/Drgj3NJz.jpg"/>
  <a onclick="bogosort()"><img src = "https://pbs.twimg.com/profile_images/580997733797863424/Drgj3NJz.jpg" height = "900px"/></a>
  <span style = "display:inline; position:absolute; top:30%; left:50%; color:white; font-size: 20px">
    Surprise! I've been working on it all the time!
    But I don't think I'm very good at it...
  </span>
  <span class="console" style="display:block">
  
  <span class="console" style="display:block">
  </span>
  
  </span>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js" type="text/javascript"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.5.3/modernizr.min.js" type="text/javascript"></script>
  <script type="text/javascript">
  
  var current_index = 1;
  
   // page startup
   function checkSupport()
   {
   // Check for the various File API support.
	if (window.File && window.FileReader && window.FileList && window.Blob) {
	  return true;
	} else {
	  return false;
	}
   }
   
   function autorun()
   {
	   if (checkSupport())
		$('span[index="1"]').show();
	   else
		$('span[index="nosupport"').show();
   }
   
   
   $(autorun);
   
   function advance()
   {
   $('span[index="'+current_index+'"]').hide();
   current_index++;
   $('span[index="'+current_index+'"]').show();
   if (current_index === 4)
	   {
			initializePart4();
	   }
   }
   
   // code for part 1
   var sortFile; // this is the variable where text will be loaded into
   function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object
    // files is a FileList of File objects. List some properties.
    var output = [];
    f = files[0];
	
	var reader = new FileReader();
	
	reader.onloadend = function(evt) {
      if (evt.target.readyState == FileReader.DONE) { // DONE == 2
        sortFile = evt.target.result;
		advance();
		setTimeout(advance, 5000); //advance to part 3
      }
    };
	
	reader.readAsText(f);
    
  }
  document.getElementById('files').addEventListener('change', handleFileSelect, false);
   // code for part 2
   
   // This is a text only section, advancing is done by a timeout in part 1
   
   // code for part 3

   
   function toBadEnd() {
	$('span[index="'+current_index+'"]').hide();
    $('span[index="badend"]').show();
   }
   
   
   
   // code for part 4
   
   var points=0;
   var timervar;
   
   function initializePart4()
   {
		$('.feedme').fadeOut(3000);
		initializeMeat();
		
		// create the count down clock
		timervar = setInterval(function() 
			{ 
			var count = parseInt($('.countclock').text());
			count--;
			$('.countclock').text(count); 
			if (count === 0)
				toBadEnd();
                
			}, 
		1000)
   }
   
   function initializeMeat()
   {
		// create the meat
		meat = $('.meat');
		meat.click(function () {
			$(this).remove()
			points ++;
			if ($('.meat').size() === 0)
			{
				clearInterval(timervar);
				advance();
				toGoodEnd();
			}
		})
		for (var i =0; i < 25; i++)
			meat.after(meat.clone(true, true));
			
		$('.meat').each(function() {
				$(this).css({ position: "absolute", top: ((Math.random() * 70) + 15) + "%", left: ((Math.random() * 70) + 15) + "%" });
			}
		
		)
   }
   
   
   
   // code for part 5
   
   // code for bad end
   
   // code for good end
    //Processes the file (now in a string) in preperation for shitty sort
   function toGoodEnd() {
     $('span[index="'+current_index+'"]').hide();
     $('span[index="goodend"]').show();
    }
   
   //Processes the file (now in a string) in preperation for shitty sort
   function stringProcessor (sortFile)
   {
    //replace all non-alphanumeric char with a space
    sortFile.replace(/\W+/g," ");
    
    //splits the string in an array of words
    var sortFileArray = sortFile.split(" ");

    return sortFileArray
   }
   
   //Random shuffling of the file
   function shuffle (sortFile) 
   {
    //variables for the shuffling
    var i = sortFile.length;
    var j = Math.Floor(Math.random() * i);
    
    //shuffling for loop
    for(k = 0; k < sortFile.length; k++)
    {
        x = sortFile[--i];
        v[i] = v[j];
        v[j] = x;
    }
    return sortFile;
   };
    
    //Bogo sorts the file
    function bogosort (sortFile){
    function bogosort (){
        var sortFileArray = stringProcessor(sortFile);
    
        sortFileArray = shuffle(sortFileArray);

        return sortFileArray;
    }
  
  </script>
 </body>
</html>